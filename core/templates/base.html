{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bfree - {% block title %}{% endblock title %}</title>
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <link rel="stylesheet" href="{% static "css/index.css" %}">
    <link rel="shortcut icon" href="{% static 'images/logo.png' %}" type="image/x-icon">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{% static "css/pre.css" %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <style>
        .desktop-only-message {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            color: #333;
        }
    </style>
    <script>
        function checkDevice() {
            if (window.innerWidth < 1024) {
                document.body.innerHTML = `
                    <div class="desktop-only-message">
                        <img src="{% static "images/logo.png" %}" alt="Bfree logo">
                        <br>
                        <h1>Desktop Only</h1>
                        <p>This website is optimized for desktop viewing only. Please switch to a desktop device.</p>
                    </div>`;
            }
        }

        document.addEventListener("DOMContentLoaded", checkDevice);

        window.addEventListener("resize", checkDevice);
    </script>

    {% if request.resolver_match.url_name == 'crypto' %}
        <link rel="stylesheet" href="{% static "css/crypto-wallet-css.css" %}">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    {% elif request.resolver_match.url_name == 'security' %}
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    {% endif %}
    
    {% if request.resolver_match.url_name == 'cards' or request.resolver_match.url_name == 'profile' %}
        <!-- Include Splide CSS -->
        <link rel="stylesheet" href="https://unpkg.com/@splidejs/splide@3.0.9/dist/css/splide.min.css">
        <!-- Include Splide JS -->
        <script src="https://unpkg.com/@splidejs/splide@3.0.9/dist/js/splide.min.js"></script>
    {% endif %}

    <!-- swiper js -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <!-- swiper js -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- mix js script -->
    <script src="{% static 'js/mixitup.min.js' %}"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZNF8N82GLQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZNF8N82GLQ');
</script>
<body>
    <!-- header section -->
    <header class="overall_header">
        <div class="header_main">
            <div class="header_logo">
                <a href="/"><img src="{% static "images/logo.png" %}" alt="Bfree logo"></a>
            </div>

            <ul class="nav_bar">
                <li>
                    <img src="{% static "images/home-icon.svg" %}" alt="Home icon">
                    <a {% if request.resolver_match.url_name == 'dashboard' %}class="active"{% else %} href="{% url "dashboard" %}"{% endif %}>Home</a>
                </li>

                <li>
                    <img src="{% static "images/bitcoin-icon.svg" %}" alt="Crypto icon">
                    <a {% if request.resolver_match.url_name == 'crypto' %}class="active"{% else %} href="{% url "crypto" %}"{% endif %}>Crypto</a>
                </li>

                <li>
                    <img src="{% static "images/small-card-icon.svg" %}" alt="Cards icon">
                    <a {% if request.resolver_match.url_name == 'cards' %}class="active"{% else %} href="{% url "cards" %}"{% endif %}>Cards</a>
                </li>

                <li>
                    <img src="{% static "images/lock-icon.svg" %}" alt="Lock icon">
                    <a {% if request.resolver_match.url_name == 'security' %}class="active"{% else %} href="{% url "security" %}"{% endif %}>Security</a>
                </li>
            </ul>

            <div class="avatar_box">
                <b style="margin-right: 20px; font-size: 20px;font-weight: 700;line-height: 24px;letter-spacing: 0.30000001192092896px;color: #001F8B;transition: 0.5s ease;">${{request.user.profile.wallet_balance}}</b>
                <img id="account1" style="cursor: pointer;" src="{% static "images/profile-icon.svg" %}" alt="Profile icon">

                <div class="profile-con" id="profileCon">
                    <div class="profile_boxA"><a href="{% url 'profile' %}">Profile</a></div>
                    <div class="profile_boxC"><a href="{% url "security" %}">Change Password</a></div>
                    <form action="{% url "logout" %}" method="post" id="logoutForm">
                        {% csrf_token %}
                        <div class="profile_boxD" style="cursor: pointer;">
                            <a >Logout</a>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <hr class="Border" />
    </header>
    <div class="pre-loader">
        <div class="logo-container">
            <img src="{% static 'images/bfree-white-logo.png' %}" alt="">
        </div>
        <div class="progress-bar">
            <div class="progress"></div>
        </div>
    </div>
    <p id="notification"></p>
    <style>
        .critical_broadcast {
            left: 50%;
            width: auto;
            background-color: #F8F8F8;
            font-weight: bold;
            color: #001F8B;
            text-align: center;
            border-radius: 8px;
            border: solid 2px #001F8B;
            padding: 10px;
            z-index: 999999999;
        }
    </style>
    {% if critical_broadcasts %}
        {% for critical_broadcast in critical_broadcasts %}
            <p class="critical_broadcast">{{critical_broadcast.message}}</p>
        {% endfor %}
    {% endif %}
    {% block content %}

    {% endblock content %}
    {% if not request.resolver_match.url_name == 'crypto' %}
        <!-- POP up page -->
        <div class="popUpLogo chat-icon" >
            <a href="#">
                <img src="{% static 'images/Group.jpg' %}" alt="image" class="chatLogo" id="chatLogo" >
            </a>        
        </div>

        <div class="Modal-Overlay" id="Modal-Overlay">
                    
            <div class="pop-up-modal tab-list" id="popUP-content">
            
            <div class="Popup-tabs">
                <div class="navIcons">
                    <span id="closeIcon">
                        <!-- Close current page icon -->
                        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.7494 15L9.75 9M9.75064 15L15.75 9" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22.75 12C22.75 6.47715 18.2728 2 12.75 2C7.22715 2 2.75 6.47715 2.75 12C2.75 17.5228 7.22715 22 12.75 22C18.2728 22 22.75 17.5228 22.75 12Z" stroke="black" stroke-width="1.5"/>
                            </svg>
                    </span>
                </div>
                <ul class="popUp-List header-list">
                        
                    <li><span id="#HOME">Contact Us on Our Social Platforms</span>
                    </li>
                    <div class="Modal-link">
                        <a href="https://t.me/medialounget" target="_blank" class="Telegram">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_5053_11787)">
                            <path d="M31.7883 31.7883H15.982C7.25241 31.7883 0.175781 24.7116 0.175781 15.982C0.175781 7.25241 7.25241 0.175781 15.982 0.175781C24.7116 0.175781 31.7883 7.25241 31.7883 15.982V31.7883Z" fill="#001F8B"/>
                            <path d="M13.2159 18.4523L19.0733 22.7797C19.7421 23.1486 20.224 22.9578 20.3909 22.1591L22.7752 10.9233C23.0193 9.94471 22.4021 9.50038 21.7625 9.79086L7.76132 15.1896C6.80557 15.5731 6.81154 16.1063 7.5871 16.3438L11.18 17.4653L19.498 12.2177C19.8907 11.9795 20.2511 12.1074 19.9553 12.3701L13.2159 18.4523Z" fill="#FCFDFF"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_5053_11787">
                            <rect width="32" height="32" fill="white"/>
                            </clipPath>
                            </defs>
                            </svg>
                        </a>
                            {% comment %} <a href="medialoubge#2967" target="_blank" class="discord">
                                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_5053_11796)">
                                    <path d="M31.7883 31.7883H15.982C7.25241 31.7883 0.175781 24.7116 0.175781 15.982C0.175781 7.25241 7.25241 0.175781 15.982 0.175781C24.7116 0.175781 31.7883 7.25241 31.7883 15.982V31.7883Z" fill="#001F8B"/>
                                    <path d="M14.5525 14.7109C14.1024 14.7109 13.7461 15.1057 13.7461 15.5884C13.7461 16.071 14.1093 16.4658 14.5525 16.4658C15.0026 16.4658 15.3589 16.071 15.3589 15.5884C15.3668 15.1057 15.0035 14.7109 14.5525 14.7109ZM17.4375 14.7109C16.9874 14.7109 16.6311 15.1057 16.6311 15.5884C16.6311 16.071 16.9944 16.4658 17.4375 16.4658C17.8876 16.4658 18.2439 16.071 18.2439 15.5884C18.2439 15.1057 17.8876 14.7109 17.4375 14.7109Z" fill="white"/>
                                    <path d="M21.2767 8.07812H10.6861C9.79285 8.07812 9.06641 8.80555 9.06641 9.70571V20.3911C9.06641 21.2922 9.79383 22.0187 10.6861 22.0187H19.6482L19.2297 20.5569L20.2414 21.4975L21.1978 22.3829L22.8974 23.8841V9.70571C22.8974 8.80457 22.17 8.07812 21.2767 8.07812ZM18.2269 18.3993C18.2269 18.3993 17.9426 18.0598 17.7057 17.7587C18.7411 17.4666 19.1359 16.8181 19.1359 16.8181C18.8122 17.0313 18.5032 17.1813 18.2269 17.284C17.8321 17.4498 17.4521 17.5604 17.0809 17.6235C16.3219 17.7657 15.6271 17.7262 15.0339 17.6156C14.5838 17.5288 14.1959 17.4024 13.8722 17.2761C13.6906 17.205 13.4932 17.1182 13.2948 17.0076C13.2711 16.9918 13.2474 16.9839 13.2237 16.9681C13.2079 16.9603 13.2 16.9524 13.1921 16.9445C13.05 16.8655 12.971 16.8102 12.971 16.8102C12.971 16.8102 13.35 17.4429 14.3538 17.743C14.1169 18.043 13.8248 18.3993 13.8248 18.3993C12.0778 18.344 11.4145 17.1981 11.4145 17.1981C11.4145 14.6536 12.5525 12.5907 12.5525 12.5907C13.6906 11.737 14.7733 11.7607 14.7733 11.7607L14.8523 11.8554C13.43 12.266 12.7736 12.8908 12.7736 12.8908C12.7736 12.8908 12.9473 12.796 13.2395 12.6618C14.0854 12.2907 14.7565 12.188 15.0339 12.1644C15.0813 12.1565 15.1207 12.1486 15.1681 12.1486C15.6498 12.0854 16.1956 12.0696 16.7641 12.1328C17.5152 12.2196 18.3206 12.4407 19.1428 12.8918C19.1428 12.8918 18.518 12.2986 17.1747 11.888L17.2853 11.7617C17.2853 11.7617 18.368 11.738 19.506 12.5917C19.506 12.5917 20.6441 14.6546 20.6441 17.1991C20.6441 17.1991 19.9729 18.344 18.2269 18.3993Z" fill="white"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_5053_11796">
                                    <rect width="32" height="32" fill="white"/>
                                    </clipPath>
                                    </defs>
                                    </svg>
                            </a>{% endcomment %}
                                <a href="https://join.skype.com/invite/lCBtfp6Djafv" target="_blank" class="SKYPE">
                                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_5053_11801)">
                                        <path d="M31.7883 31.7883H15.982C7.25241 31.7883 0.175781 24.7116 0.175781 15.982C0.175781 7.25241 7.25241 0.175781 15.982 0.175781C24.7116 0.175781 31.7883 7.25241 31.7883 15.982V31.7883Z" fill="#001F8B"/>
                                        <path d="M24.3057 17.362C24.0184 16.9647 23.8853 16.48 23.886 15.99C23.886 15.9872 23.886 15.9844 23.886 15.9812C23.886 11.6166 20.3478 8.07812 15.9829 8.07812C15.0282 8.07812 14.1132 8.24813 13.2659 8.55863C12.8076 8.72653 12.3056 8.75885 11.8356 8.62678C11.4205 8.50981 10.9772 8.46064 10.5178 8.49225C8.58834 8.62502 7.03476 10.2063 6.93501 12.1379C6.88724 13.0596 7.16367 13.9148 7.65999 14.6008C7.94731 14.9981 8.08044 15.4828 8.07973 15.9728C8.07973 15.9756 8.07973 15.9784 8.07973 15.9816C8.07973 20.3462 11.6182 23.8847 15.9829 23.8847C16.9376 23.8847 17.8526 23.7147 18.6998 23.4042C19.1582 23.2363 19.6601 23.204 20.1301 23.3361C20.5452 23.453 20.9885 23.5022 21.448 23.4706C23.3774 23.3378 24.931 21.7565 25.0307 19.8253C25.0785 18.9029 24.802 18.0477 24.3057 17.362ZM16.2723 14.5643C17.8659 14.9433 20.2737 15.5158 20.2737 18.1685C20.2737 19.4751 19.6302 20.472 18.4616 20.9753C17.6278 21.3343 16.684 21.3828 15.8708 21.3828C13.3717 21.3828 11.7935 19.4397 11.7275 19.3568C11.3183 18.8436 11.4022 18.0954 11.9157 17.6862C12.4289 17.2767 13.1771 17.3613 13.5863 17.8745C13.5898 17.8791 14.534 18.963 15.8708 19.0052C17.4809 19.0561 17.8487 18.5773 17.8961 18.1681C17.9544 17.6687 17.5101 17.3019 15.7219 16.8769C14.2062 16.5166 11.9154 15.9718 11.9154 13.5288C11.9154 12.768 12.2248 10.2861 16.2063 10.2861C18.7201 10.2861 20.2042 12.2654 20.266 12.3497C20.6548 12.8787 20.5414 13.6226 20.0124 14.0114C19.4859 14.3985 18.7465 14.2879 18.3559 13.7652C18.3278 13.729 17.4785 12.7842 16.2059 12.6633C15.2431 12.5717 14.2923 12.9191 14.2923 13.4322C14.293 13.9756 14.5659 14.1586 16.2723 14.5643Z" fill="white"/>
                                        </g>
                                        <defs>
                                        <clipPath id="clip0_5053_11801">
                                        <rect width="32" height="32" fill="white"/>
                                        </clipPath>
                                        </defs>
                                        </svg>
                                </a>
                                    
                                
                            
                    </div>
                </ul>
            </div>  
            
            </div> 
        </div>
    {% endif %}
    <script>
        $(document).ready(function() {
            $('.profile_boxD').click(function(e) {
                e.preventDefault();
                $('#logoutForm').submit();
            });
        });
    </script>

    <!-- FUNCTION FOR HEADER -->
    <script>
        function showNotification(text) {
            var notification = document.getElementById('notification');
            notification.style.display = 'block';
            notification.textContent = text;
            setTimeout(function() {
                notification.style.display = 'none';
            }, 30000);
        }

        // navbar acoount toggle
        document.addEventListener("DOMContentLoaded", function() {
            // Get elements for account link and profileCon
            let accountLink = document.getElementById("account1");
            let profileCon = document.getElementById("profileCon");

            // Function to show profileCon
            function showProfileCon() {
                profileCon.style.display = "block";
            }

            // Function to hide profileCon
            function hideProfileCon() {
                profileCon.style.display = "none";
            }

            // Event listener for clicking on accountLink
            accountLink.addEventListener("click", function(e) {
                e.preventDefault(); // Prevent default link behavior
                if (profileCon.style.display === "block") {
                    hideProfileCon();
                } else {
                    showProfileCon();
                }
            });

            // Event listener to close profileCon when clicking outside it
            window.addEventListener("click", function(event) {
                if (event.target !== accountLink && !profileCon.contains(event.target)) {
                    hideProfileCon();
                }
            });
        });
    </script>


    <script src="{% static 'js/index.js' %}"></script>
</body>
</html>



